{"ast":null,"code":"import React,{useState,useEffect}from'react';import Spinner from'./spinner';// Import the Spinner component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CarDataProvider=_ref=>{let{children}=_ref;const[cars,setCars]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchCars=async()=>{try{const response=await fetch('http://localhost:5000/api/cars');if(!response.ok)throw new Error(\"Помилка під час отримання даних.\");const data=await response.json();setCars(data);}catch(error){console.error('Помилка отримання даних:',error);setError(error.message);}finally{setLoading(false);}};fetchCars();},[]);if(loading)return/*#__PURE__*/_jsx(Spinner,{});// Show spinner while loading\nif(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430: \",error]});return children(cars);};export default CarDataProvider;","map":{"version":3,"names":["React","useState","useEffect","Spinner","jsx","_jsx","jsxs","_jsxs","CarDataProvider","_ref","children","cars","setCars","loading","setLoading","error","setError","fetchCars","response","fetch","ok","Error","data","json","console","message"],"sources":["C:/Users/WellDone/Desktop/LPNU/web/lab-8/my-app/src/components1/carDataProvider.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Spinner from './spinner'; // Import the Spinner component\r\n\r\nconst CarDataProvider = ({ children }) => {\r\n    const [cars, setCars] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchCars = async () => {\r\n            try {\r\n                const response = await fetch('http://localhost:5000/api/cars');\r\n                if (!response.ok) throw new Error(\"Помилка під час отримання даних.\");\r\n                \r\n                const data = await response.json();\r\n                setCars(data);\r\n            } catch (error) {\r\n                console.error('Помилка отримання даних:', error);\r\n                setError(error.message);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchCars();\r\n    }, []);\r\n\r\n    if (loading) return <Spinner />; // Show spinner while loading\r\n    if (error) return <div>Помилка: {error}</div>;\r\n\r\n    return children(cars);\r\n};\r\n\r\nexport default CarDataProvider;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACjC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAe,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,gCAAgC,CAAC,CAC9D,GAAI,CAACD,QAAQ,CAACE,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,kCAAkC,CAAC,CAErE,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClCX,OAAO,CAACU,IAAI,CAAC,CACjB,CAAE,MAAOP,KAAK,CAAE,CACZS,OAAO,CAACT,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDC,QAAQ,CAACD,KAAK,CAACU,OAAO,CAAC,CAC3B,CAAC,OAAS,CACNX,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAEDG,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIJ,OAAO,CAAE,mBAAOR,IAAA,CAACF,OAAO,GAAE,CAAC,CAAE;AACjC,GAAIY,KAAK,CAAE,mBAAOR,KAAA,QAAAG,QAAA,EAAK,8CAAS,CAACK,KAAK,EAAM,CAAC,CAE7C,MAAO,CAAAL,QAAQ,CAACC,IAAI,CAAC,CACzB,CAAC,CAED,cAAe,CAAAH,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}