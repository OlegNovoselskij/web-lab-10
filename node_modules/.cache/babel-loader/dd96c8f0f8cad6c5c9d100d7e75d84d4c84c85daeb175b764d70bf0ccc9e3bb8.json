{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\my-app\\\\src\\\\components1\\\\pages\\\\Catalog\\\\carsList\\\\carsList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Car from '../Car/Car';\nimport Spinner from '../../../spinner'; // Імпортуємо Spinner\nimport { useNavigate } from 'react-router-dom';\nimport './carsList.css';\nimport Filters from '../Filters/Filters';\nimport Search from '../Search/Search';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CarList = () => {\n  _s();\n  const [cars, setCars] = useState([]);\n  const [loading, setLoading] = useState(false); // Додаємо стан завантаження\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filters, setFilters] = useState({\n    maxPrice: Infinity\n  });\n  const navigate = useNavigate();\n\n  // Фетчинг даних із сервера\n  const fetchCars = async () => {\n    setLoading(true); // Показуємо Spinner перед початком завантаження\n    try {\n      const {\n        data\n      } = await axios.get('http://localhost:5001/api/cars', {\n        params: {\n          search: searchQuery,\n          maxPrice: filters.maxPrice\n        }\n      });\n      setCars(data);\n    } catch (error) {\n      console.error(\"Error fetching cars:\", error);\n    } finally {\n      setLoading(false); // Ховаємо Spinner після завершення завантаження\n    }\n  };\n  const handleShowMore = car => {\n    navigate(\"/catalog/carPage\", {\n      state: {\n        car\n      }\n    });\n  };\n  const handleSearch = event => {\n    const query = event.target.value.toLowerCase();\n    setSearchQuery(query);\n  };\n  const handleApplyFilters = newFilters => {\n    setFilters(newFilters);\n  };\n  useEffect(() => {\n    fetchCars(); // Завантажуємо всі автомобілі на перший рендер\n  }, [searchQuery, filters]); // Працює при зміні параметрів\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        onSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Filters, {\n        onClick: handleApplyFilters\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this) // Показуємо Spinner, якщо дані завантажуються\n    : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"car-list\",\n      children: cars.map((car, index) => /*#__PURE__*/_jsxDEV(Car, {\n        ...car,\n        onShowMore: () => handleShowMore(car)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(CarList, \"LgfLrhMxXpnrFQMTF+h7BLVFQzM=\", false, function () {\n  return [useNavigate];\n});\n_c = CarList;\nexport default CarList;\nvar _c;\n$RefreshReg$(_c, \"CarList\");","map":{"version":3,"names":["React","useState","useEffect","axios","Car","Spinner","useNavigate","Filters","Search","jsxDEV","_jsxDEV","CarList","_s","cars","setCars","loading","setLoading","searchQuery","setSearchQuery","filters","setFilters","maxPrice","Infinity","navigate","fetchCars","data","get","params","search","error","console","handleShowMore","car","state","handleSearch","event","query","target","value","toLowerCase","handleApplyFilters","newFilters","children","style","display","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","onClick","className","map","index","onShowMore","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/my-app/src/components1/pages/Catalog/carsList/carsList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Car from '../Car/Car';\r\nimport Spinner from '../../../spinner'; // Імпортуємо Spinner\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './carsList.css';\r\nimport Filters from '../Filters/Filters';\r\nimport Search from '../Search/Search';\r\n\r\nconst CarList = () => {\r\n    const [cars, setCars] = useState([]);\r\n    const [loading, setLoading] = useState(false); // Додаємо стан завантаження\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [filters, setFilters] = useState({ maxPrice: Infinity });\r\n    const navigate = useNavigate();\r\n\r\n    // Фетчинг даних із сервера\r\n    const fetchCars = async () => {\r\n        setLoading(true); // Показуємо Spinner перед початком завантаження\r\n        try {\r\n            const { data } = await axios.get('http://localhost:5001/api/cars', {\r\n                params: {\r\n                    search: searchQuery,\r\n                    maxPrice: filters.maxPrice,\r\n                },\r\n            });\r\n            setCars(data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching cars:\", error);\r\n        } finally {\r\n            setLoading(false); // Ховаємо Spinner після завершення завантаження\r\n        }\r\n    };\r\nconst handleShowMore = (car) => {\r\n        navigate(\"/catalog/carPage\", { state: { car } });\r\n    };\r\n\r\n    const handleSearch = (event) => {\r\n        const query = event.target.value.toLowerCase();\r\n        setSearchQuery(query);\r\n    };\r\n\r\n    const handleApplyFilters = (newFilters) => {\r\n        setFilters(newFilters);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchCars(); // Завантажуємо всі автомобілі на перший рендер\r\n    }, [searchQuery, filters]); // Працює при зміні параметрів\r\n\r\n    return (\r\n        <div>\r\n            <div style={{ display: 'flex' }}>\r\n                <Search onSearch={handleSearch} />\r\n                <Filters onClick={handleApplyFilters} />\r\n            </div>\r\n\r\n            {loading ? (\r\n                <Spinner /> // Показуємо Spinner, якщо дані завантажуються\r\n            ) : (\r\n                <div className=\"car-list\">\r\n                    {cars.map((car, index) => (\r\n                        <Car key={index} {...car} onShowMore={() => handleShowMore(car)} />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CarList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}