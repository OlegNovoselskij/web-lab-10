{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WellDone\\\\Desktop\\\\LPNU\\\\web\\\\lab-8\\\\my-app\\\\src\\\\components1\\\\pages\\\\Catalog\\\\carsList\\\\carsList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Car from '../Car/Car';\nimport { useNavigate } from 'react-router-dom';\nimport './carsList.css';\nimport Filters from '../Filters/Filters';\nimport Search from '../Search/Search';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CarList = ({\n  cars\n}) => {\n  _s();\n  const [filteredCars, setFilteredCars] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filters, setFilters] = useState({\n    maxPrice: Infinity\n  });\n  const navigate = useNavigate();\n  const handleShowMore = car => {\n    navigate(\"/catalog/carPage\", {\n      state: {\n        car\n      }\n    });\n  };\n  const handleSearch = event => {\n    setSearchQuery(event.target.value.toLowerCase());\n  };\n  const handleApplyFilters = newFilters => {\n    setFilters(newFilters);\n  };\n\n  // Function to apply both search and filter criteria\n  const applySearchAndFilters = () => {\n    const filtered = cars.filter(car => (car.name.toLowerCase().includes(searchQuery) || car.description.toLowerCase().includes(searchQuery)) && car.price <= filters.maxPrice);\n    setFilteredCars(filtered);\n  };\n\n  // Run applySearchAndFilters whenever searchQuery, filters, or cars change\n  useEffect(() => {\n    applySearchAndFilters();\n  }, [searchQuery, filters, cars]);\n  const displayedCars = filteredCars.length > 0 || searchQuery || filters.maxPrice < Infinity ? filteredCars : cars;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        onSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Filters, {\n        onClick: handleApplyFilters\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"car-list\",\n      children: displayedCars.map((car, index) => /*#__PURE__*/_jsxDEV(Car, {\n        ...car,\n        onShowMore: () => handleShowMore(car)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(CarList, \"QuwhTeBaIPXX1Spzw5GAH+4n0fc=\", false, function () {\n  return [useNavigate];\n});\n_c = CarList;\nexport default CarList;\nvar _c;\n$RefreshReg$(_c, \"CarList\");","map":{"version":3,"names":["React","useState","useEffect","Car","useNavigate","Filters","Search","jsxDEV","_jsxDEV","CarList","cars","_s","filteredCars","setFilteredCars","searchQuery","setSearchQuery","filters","setFilters","maxPrice","Infinity","navigate","handleShowMore","car","state","handleSearch","event","target","value","toLowerCase","handleApplyFilters","newFilters","applySearchAndFilters","filtered","filter","name","includes","description","price","displayedCars","length","children","style","display","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","onClick","className","map","index","onShowMore","_c","$RefreshReg$"],"sources":["C:/Users/WellDone/Desktop/LPNU/web/lab-8/my-app/src/components1/pages/Catalog/carsList/carsList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Car from '../Car/Car';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './carsList.css';\r\nimport Filters from '../Filters/Filters';\r\nimport Search from '../Search/Search';\r\n\r\nconst CarList = ({ cars }) => {\r\n    const [filteredCars, setFilteredCars] = useState([]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [filters, setFilters] = useState({ maxPrice: Infinity });\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleShowMore = (car) => {\r\n        navigate(\"/catalog/carPage\", { state: { car } });\r\n    };\r\n\r\n    const handleSearch = (event) => {\r\n        setSearchQuery(event.target.value.toLowerCase());\r\n    };\r\n\r\n    const handleApplyFilters = (newFilters) => {\r\n        setFilters(newFilters);\r\n    };\r\n\r\n    // Function to apply both search and filter criteria\r\n    const applySearchAndFilters = () => {\r\n        const filtered = cars.filter(car => \r\n            (car.name.toLowerCase().includes(searchQuery) || car.description.toLowerCase().includes(searchQuery)) &&\r\n            car.price <= filters.maxPrice\r\n        );\r\n        setFilteredCars(filtered);\r\n    };\r\n\r\n    // Run applySearchAndFilters whenever searchQuery, filters, or cars change\r\n    useEffect(() => {\r\n        applySearchAndFilters();\r\n    }, [searchQuery, filters, cars]);\r\n\r\n    const displayedCars = filteredCars.length > 0 || searchQuery || filters.maxPrice < Infinity ? filteredCars : cars;\r\n\r\n    return (\r\n        <div>\r\n            <div style={{ display: 'flex' }}>\r\n                <Search onSearch={handleSearch} />\r\n                <Filters onClick={handleApplyFilters} />\r\n            </div>\r\n\r\n            <div className=\"car-list\">\r\n                {displayedCars.map((car, index) => (\r\n                    <Car key={index} {...car} onShowMore={() => handleShowMore(car)} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CarList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}